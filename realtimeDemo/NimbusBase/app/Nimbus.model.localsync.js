// Generated by CoffeeScript 1.6.3
(function() {
  Nimbus.Model.LocalSync = {
    classname: "Nimbus.Model.LocalSync",
    extended: function() {
      this.sync(this.proxy(this.saveLocal));
      return this.fetch(this.proxy(this.loadLocal));
    },
    saveLocal: function() {
      var result;
      result = JSON.stringify(this);
      return localStorage[this.name] = result;
    },
    loadLocal: function(callback) {
      var result;
      result = localStorage[this.name];
      if (!result) {
        return;
      }
      result = JSON.parse(result);
      this.refresh(result);
      if (callback != null) {
        return callback();
      }
    }
  };

}).call(this);
